<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
        crossorigin="anonymous" />
  </head>
  <style>
    .list-group-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
  </style>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>



  <body>
    <%- include('nav.html') %>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.2/socket.io.js"
        integrity="sha512-VJ6+sp2E5rFQk05caiXXzQd1wBABpjEj1r5kMiLmGAAgwPItw1YpqsCCBtq8Yr1x6C49/mTpRdXtq8O2RcZhlQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <h4>채팅방</h4>
    <input id="send-input" />
    <button id="send">서버에 메시지 보내기</button>

    <div class="content">

    </div>

    <script>
      const socket = io();

      $('#send').click(function() {
        const message = $('#send-input').val();
        console.log(message)
        socket.emit('message', message)
      })

      socket.on('broadcast', (data) => {
        console.log(data)
        $('.content').append(`<div> ${data} </div>`)
      })
    </script>



    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
        crossorigin="anonymous"></script>
  </body>

</html>